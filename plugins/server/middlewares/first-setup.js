'use strict';var a170_0x45cc3a=a170_0x3150;(function(_0x1678d6,_0x5cc973){var _0x5e214c=a170_0x3150,_0x1636b4=_0x1678d6();while(!![]){try{var _0x4e6f1a=-parseInt(_0x5e214c(0xff))/0x1*(-parseInt(_0x5e214c(0xdc))/0x2)+-parseInt(_0x5e214c(0xed))/0x3+parseInt(_0x5e214c(0xfe))/0x4+-parseInt(_0x5e214c(0xe7))/0x5+parseInt(_0x5e214c(0x10d))/0x6*(parseInt(_0x5e214c(0x111))/0x7)+parseInt(_0x5e214c(0x108))/0x8+parseInt(_0x5e214c(0x101))/0x9*(parseInt(_0x5e214c(0xfb))/0xa);if(_0x4e6f1a===_0x5cc973)break;else _0x1636b4['push'](_0x1636b4['shift']());}catch(_0x338ec9){_0x1636b4['push'](_0x1636b4['shift']());}}}(a170_0xa4df,0xeb41c));function a170_0x3150(_0x4125d9,_0x1e02bb){var _0xa4dfdb=a170_0xa4df();return a170_0x3150=function(_0x31501b,_0xae73cc){_0x31501b=_0x31501b-0xd8;var _0x2da1b3=_0xa4dfdb[_0x31501b];return _0x2da1b3;},a170_0x3150(_0x4125d9,_0x1e02bb);}var __awaiter=this&&this[a170_0x45cc3a(0xea)]||function(_0x5c45f3,_0x40a8af,_0x58244e,_0x4662e5){function _0x4fb93e(_0x1ba602){return _0x1ba602 instanceof _0x58244e?_0x1ba602:new _0x58244e(function(_0xd964ed){_0xd964ed(_0x1ba602);});}return new(_0x58244e||(_0x58244e=Promise))(function(_0x2b645d,_0x55e70b){var _0x11fde1=a170_0x3150;function _0x9090bd(_0x948ad2){try{_0x9603cc(_0x4662e5['next'](_0x948ad2));}catch(_0x8611fb){_0x55e70b(_0x8611fb);}}function _0xf2763e(_0x562188){var _0x5f2c77=a170_0x3150;try{_0x9603cc(_0x4662e5[_0x5f2c77(0x113)](_0x562188));}catch(_0x222c8){_0x55e70b(_0x222c8);}}function _0x9603cc(_0x15ded3){var _0x48ecb3=a170_0x3150;_0x15ded3[_0x48ecb3(0x100)]?_0x2b645d(_0x15ded3[_0x48ecb3(0xe9)]):_0x4fb93e(_0x15ded3[_0x48ecb3(0xe9)])['then'](_0x9090bd,_0xf2763e);}_0x9603cc((_0x4662e5=_0x4662e5[_0x11fde1(0x107)](_0x5c45f3,_0x40a8af||[]))['next']());});},__generator=this&&this['__generator']||function(_0x4b6118,_0x4a6055){var _0x766b6a=a170_0x45cc3a,_0x5d0e4f={'label':0x0,'sent':function(){if(_0x521112[0x0]&0x1)throw _0x521112[0x1];return _0x521112[0x1];},'trys':[],'ops':[]},_0x2013a2,_0x41c11b,_0x521112,_0x355794;return _0x355794={'next':_0x27dfb7(0x0),'throw':_0x27dfb7(0x1),'return':_0x27dfb7(0x2)},typeof Symbol===_0x766b6a(0xf8)&&(_0x355794[Symbol[_0x766b6a(0xf9)]]=function(){return this;}),_0x355794;function _0x27dfb7(_0x4c24e1){return function(_0x10df20){return _0x1802ef([_0x4c24e1,_0x10df20]);};}function _0x1802ef(_0x201105){var _0x2ed82d=_0x766b6a;if(_0x2013a2)throw new TypeError(_0x2ed82d(0x109));while(_0x5d0e4f)try{if(_0x2013a2=0x1,_0x41c11b&&(_0x521112=_0x201105[0x0]&0x2?_0x41c11b[_0x2ed82d(0xf7)]:_0x201105[0x0]?_0x41c11b['throw']||((_0x521112=_0x41c11b[_0x2ed82d(0xf7)])&&_0x521112['call'](_0x41c11b),0x0):_0x41c11b[_0x2ed82d(0xe0)])&&!(_0x521112=_0x521112[_0x2ed82d(0xf4)](_0x41c11b,_0x201105[0x1]))[_0x2ed82d(0x100)])return _0x521112;if(_0x41c11b=0x0,_0x521112)_0x201105=[_0x201105[0x0]&0x2,_0x521112[_0x2ed82d(0xe9)]];switch(_0x201105[0x0]){case 0x0:case 0x1:_0x521112=_0x201105;break;case 0x4:_0x5d0e4f[_0x2ed82d(0xdd)]++;return{'value':_0x201105[0x1],'done':![]};case 0x5:_0x5d0e4f[_0x2ed82d(0xdd)]++,_0x41c11b=_0x201105[0x1],_0x201105=[0x0];continue;case 0x7:_0x201105=_0x5d0e4f[_0x2ed82d(0xd9)][_0x2ed82d(0x10e)](),_0x5d0e4f['trys']['pop']();continue;default:if(!(_0x521112=_0x5d0e4f[_0x2ed82d(0xd8)],_0x521112=_0x521112[_0x2ed82d(0xef)]>0x0&&_0x521112[_0x521112[_0x2ed82d(0xef)]-0x1])&&(_0x201105[0x0]===0x6||_0x201105[0x0]===0x2)){_0x5d0e4f=0x0;continue;}if(_0x201105[0x0]===0x3&&(!_0x521112||_0x201105[0x1]>_0x521112[0x0]&&_0x201105[0x1]<_0x521112[0x3])){_0x5d0e4f['label']=_0x201105[0x1];break;}if(_0x201105[0x0]===0x6&&_0x5d0e4f['label']<_0x521112[0x1]){_0x5d0e4f[_0x2ed82d(0xdd)]=_0x521112[0x1],_0x521112=_0x201105;break;}if(_0x521112&&_0x5d0e4f[_0x2ed82d(0xdd)]<_0x521112[0x2]){_0x5d0e4f['label']=_0x521112[0x2],_0x5d0e4f['ops']['push'](_0x201105);break;}if(_0x521112[0x2])_0x5d0e4f['ops'][_0x2ed82d(0x10e)]();_0x5d0e4f[_0x2ed82d(0xd8)][_0x2ed82d(0x10e)]();continue;}_0x201105=_0x4a6055[_0x2ed82d(0xf4)](_0x4b6118,_0x5d0e4f);}catch(_0x20c340){_0x201105=[0x6,_0x20c340],_0x41c11b=0x0;}finally{_0x2013a2=_0x521112=0x0;}if(_0x201105[0x0]&0x5)throw _0x201105[0x1];return{'value':_0x201105[0x0]?_0x201105[0x1]:void 0x0,'done':!![]};}};Object[a170_0x45cc3a(0xe2)](exports,a170_0x45cc3a(0x112),{'value':!![]}),exports[a170_0x45cc3a(0x10c)]=void 0x0;var _models_1=require('../../../models'),responses_1=require(a170_0x45cc3a(0xe1)),roles_1=require(a170_0x45cc3a(0xee)),policies_1=require('../../templates/policies');function checkDBPresent(_0x309ab1,_0x45f8eb){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x3c75a1){return[0x2,new Promise(function(_0x39a3e1,_0x364bf2){var _0xf33e84=a170_0x3150,_0xb59e8b=_0x309ab1[_0xf33e84(0xe6)]({})[_0xf33e84(0x10b)]();_0xb59e8b[_0xf33e84(0xf6)](function(_0x334b2d){var _0x2b8858=_0xf33e84;_0x334b2d?_0x334b2d[_0x2b8858(0xef)]>0x0?_0x45f8eb?_0x45f8eb[_0x2b8858(0xef)]===_0x334b2d[_0x2b8858(0xef)]?_0x39a3e1(!![]):_0x39a3e1(![]):_0x39a3e1(!![]):_0x39a3e1(![]):_0x364bf2(new Error(_0x2b8858(0xe3)));})['catch'](function(_0x1b138d){var _0x20efd4=_0xf33e84;_0x364bf2(new Error(''['concat'](_0x1b138d[_0x20efd4(0x110)],':\x20')[_0x20efd4(0x104)](_0x1b138d[_0x20efd4(0x103)])));});})];});});}function checkSetupStatus(_0x32e5e3,_0x1355ad,_0x5267ba){var _0x5c0534=a170_0x45cc3a,_0x400420=[checkDBPresent(_models_1[_0x5c0534(0x105)]),checkDBPresent(_models_1[_0x5c0534(0xdb)]),checkDBPresent(_models_1[_0x5c0534(0xf0)],policies_1[_0x5c0534(0xe5)]),checkDBPresent(_models_1[_0x5c0534(0xda)],roles_1[_0x5c0534(0xe5)]),checkDBPresent(_models_1['GlobalSettings']),checkDBPresent(_models_1['Scopes']),checkDBPresent(_models_1[_0x5c0534(0xde)])];Promise[_0x5c0534(0xec)](_0x400420)[_0x5c0534(0xf6)](function(_0x14a33e){var _0x14112f=_0x5c0534;_0x14a33e[_0x14112f(0xe4)](![])?(_0x1355ad['locals']['setups']=!![],_0x5267ba()):_0x1355ad[_0x14112f(0xf3)](0xc8)[_0x14112f(0xf1)]({'success':!![],'setup':!![],'message':_0x14112f(0xdf)});})[_0x5c0534(0xfc)](function(_0x310832){var _0x5810b0=_0x5c0534;(0x0,responses_1[_0x5810b0(0x10a)])(_0x1355ad,_0x310832[_0x5810b0(0x110)],_0x310832[_0x5810b0(0x103)]);});}exports[a170_0x45cc3a(0xfd)]=checkSetupStatus;function a170_0xa4df(){var _0x464130=['unAuthorized','then','return','function','iterator','Secret\x20Error','13061640oXsNWy','catch','default','2424304vtgclx','8866NTCqXp','done','9RaEJYF','env','message','concat','Credentials','locals','apply','11501736OtwztA','Generator\x20is\x20already\x20executing.','internalServerError','exec','checkSecretPass','233472VYMURc','pop','secretcheck','name','28DIUsZG','__esModule','throw','trys','ops','Roles','Frontends','138GzPTrj','label','Users','All\x20the\x20Collections\x20have\x20been\x20Setup\x20Correctly','next','../../server/responses','defineProperty','Unknown\x20Error\x20while\x20Querying\x20Collection','includes','map','find','8181765gvVfGR','x-secret-pass','value','__awaiter','headers','all','4552182sRZsPp','../../templates/roles','length','Policies','json','string','status','call'];a170_0xa4df=function(){return _0x464130;};return a170_0xa4df();}function checkSecretPass(_0x4ce241,_0x22664e,_0x128c46){var _0x5910ac=a170_0x45cc3a,_0x4ab368=process[_0x5910ac(0x102)]['SECRET'];if(_0x4ab368){var _0x522f8f=_0x4ce241[_0x5910ac(0xeb)][_0x5910ac(0xe8)];if(_0x522f8f&&typeof _0x522f8f===_0x5910ac(0xf2)){var _0x3ec75e=_0x4ab368['toLowerCase'](),_0x4f63eb=_0x522f8f['toLowerCase']();_0x4f63eb===_0x3ec75e?(_0x22664e[_0x5910ac(0x106)][_0x5910ac(0x10f)]=!![],_0x128c46()):(0x0,responses_1[_0x5910ac(0xf5)])(_0x22664e,'Header\x20Secret\x20is\x20Not\x20Matching\x20with\x20the\x20Environment\x20Secret,\x20Kindly\x20Send\x20the\x20Correct\x20Pass');}else(0x0,responses_1['badRequest'])(_0x22664e,'x-secret-pass','Request\x20Headers');}else(0x0,responses_1[_0x5910ac(0x10a)])(_0x22664e,_0x5910ac(0xfa),'No\x20Secret\x20Set\x20in\x20the\x20Environment,\x20Kindly\x20Set\x20in\x20Vars');}exports[a170_0x45cc3a(0x10c)]=checkSecretPass;